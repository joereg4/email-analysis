# Email Analysis Sandbox Environment Configuration
# Copy this file to .env and fill in your actual API keys

# =============================================================================
# API KEYS (REQUIRED)
# =============================================================================

# OpenAI API Key - Required for AI-powered threat analysis
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# VirusTotal API Key - Optional but recommended for URL analysis
# Get your API key from: https://www.virustotal.com/gui/my-apikey
VIRUSTOTAL_API_KEY=your-virustotal-api-key-here

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SQLite database URL
DATABASE_URL=sqlite:///app/data/db/email_analysis.db

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis connection URL for job queue
REDIS_URL=redis://redis:6379

# =============================================================================
# CLAMAV CONFIGURATION
# =============================================================================

# ClamAV server hostname
CLAMAV_HOST=clamav

# ClamAV server port
CLAMAV_PORT=3310

# =============================================================================
# FILE PATHS
# =============================================================================

# Directory paths (relative to container)
INBOX_PATH=/app/data/inbox
QUARANTINE_PATH=/app/data/quarantine
ARTIFACTS_PATH=/app/data/artifacts
DB_PATH=/app/data/db
LOGS_PATH=/app/data/logs

# =============================================================================
# API CONFIGURATION
# =============================================================================

# FastAPI server configuration
API_HOST=0.0.0.0
API_PORT=8080
API_WORKERS=1

# =============================================================================
# WORKER CONFIGURATION
# =============================================================================

# Background worker settings
WORKER_CONCURRENCY=4
WORKER_TIMEOUT=300

# =============================================================================
# SCANNING CONFIGURATION
# =============================================================================

# Maximum file size for processing (in bytes)
MAX_FILE_SIZE=52428800

# Allowed file extensions for processing
ALLOWED_EXTENSIONS=.eml,.msg,.txt,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.zip,.rar,.7z

# Automatically quarantine suspicious files
QUARANTINE_SUSPICIOUS=true

# =============================================================================
# OPENAI CONFIGURATION
# =============================================================================

# OpenAI model to use for analysis
OPENAI_MODEL=gpt-4

# Maximum tokens for OpenAI responses
OPENAI_MAX_TOKENS=1000

# Temperature for OpenAI responses (0.0 = deterministic, 1.0 = creative)
OPENAI_TEMPERATURE=0.3

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Enable/disable specific scanning engines
ENABLE_CLAMAV=true
ENABLE_YARA=true
ENABLE_EXIF=true
ENABLE_OCR=true
ENABLE_URL_ANALYSIS=true
ENABLE_OPENAI_ANALYSIS=true

# Risk score thresholds
LOW_RISK_THRESHOLD=30
MEDIUM_RISK_THRESHOLD=60
HIGH_RISK_THRESHOLD=80
CRITICAL_RISK_THRESHOLD=90

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Enable debug mode
DEBUG=false

# Enable API documentation
ENABLE_DOCS=true

# CORS origins (comma-separated)
CORS_ORIGINS=*

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Enable health checks
ENABLE_HEALTH_CHECKS=true

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL=30

# =============================================================================
# NOTIFICATION CONFIGURATION (OPTIONAL)
# =============================================================================

# Email notifications (optional)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# NOTIFICATION_EMAIL=admin@yourcompany.com

# Slack notifications (optional)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# =============================================================================
# BACKUP CONFIGURATION (OPTIONAL)
# =============================================================================

# Enable automatic backups
ENABLE_BACKUPS=false

# Backup interval (hours)
BACKUP_INTERVAL=24

# Backup retention (days)
BACKUP_RETENTION=30

# =============================================================================
# NOTES
# =============================================================================

# 1. Copy this file to .env and update the values above
# 2. Never commit the .env file to version control
# 3. The .env file is already in .gitignore
# 4. Restart the services after changing environment variables
# 5. Some settings require service restart to take effect
